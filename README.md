# Task Tracker Analytics

[![Python](https://img.shields.io/badge/Python-3.7+-blue.svg)](https://www.python.org/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-12+-blue.svg)](https://www.postgresql.org/)

Анализ системы отслеживания задач: метрики разрешения, качество данных и производительность

## Обзор проекта

Проект представляет собой комплексный анализ системы управления задачами (Task Tracker) в период 2014–2023. Анализ охватывает 51,955 исходных записей, из которых после очистки аномалий использовано 51,950 задач.

Основная цель анализа: количественная оценка производительности системы поддержки, выявление паттернов разрешения задач и оценка качества данных.

## Ключевые результаты

| Метрика | Значение | Интерпретация |
|---------|----------|--------------|
| Всего записей (raw) | 51,955 | Полный объём данных |
| Тикетов после очистки | 51,950 | Исключены 5 аномалий эпохи |
| Решённых тикетов | 49,184 | 94.67% успешно разрешены |
| Нерешённых тикетов | 2,766 | 5.33% ожидают разрешения |
| Same-month resolution | 95.48% | Высокий показатель эффективности |
| NULL в дате создания | 3 записи | 0.006% дефектных данных |
| NULL в дате решения | 2,766 записей | 5.32% открытые задачи |
| Уникальные категории | 4 | Local, Remote, New User, Software License |
| Резолюций в справочнике | 176 | Только 5 активно используются |
| Неиспользуемые резолюции | 171 | 97.16% справочника избыточны |

## Основные выводы

### Положительные результаты

- **Высокий процент решения**: 94.67% тикетов успешно разрешены, что свидетельствует об эффективной работе системы поддержки и отсутствии критических сбоев.

- **Same-month разрешение**: 95.48% решённых задач разрешаются в месяц их создания. Это исключительно высокий показатель эффективности.

- **Стабильная операция**: Анализ показывает стабильное распределение нагрузки по дням недели без резких всплесков, что указывает на надёжность инфраструктуры.

### Критические проблемы

- **Aging Backlog**: 2,766 нерешённых тикетов (5.33%) остаются открытыми, требуя систематической работы для их закрытия.

- **Избыточность справочника**: 171 резолюция (97.16% справочника) не используется, при том что используется только 5 типов. Это указывает на необходимость оптимизации справочных данных.

- **Данные качество**: Обнаружены аномалии: 2 тикета с датой 1970-01-01 (epoch), 3 тикета с обработкой более года, 1 несвязанная резолюция.

## Структура проекта

```
task-tracker-analytics/
├── README.md                    Главный файл проекта
├── .gitignore                   Конфигурация Git
│
├── analyze_tasks.py             Главный Python скрипт для анализа
│
├── docs/
│   ├── schema.md               Описание структуры БД
│   ├── analyses_report.md      Полный аналитический отчёт
│   └── presentation.pdf         Презентация результатов
│
├── sql/
│   ├── 01_init_schema.sql      Инициализация таблиц
│   ├── 02_data_cleaning.sql    Очистка и представления
│   ├── 03_data_quality.sql     Проверки качества
│   └── 04_analysis.sql         Основной анализ
│
├── scripts/
│   ├── __init__.py
│   ├── analysis.py             Модуль загрузки данных и расчёта метрик
│   └── visualizations.py       Модуль создания графиков и визуализаций
│
├── notebooks/
│   └── 01_analysis.ipynb       Jupyter ноутбук для интерактивного анализа
│
├── data/
│   ├── issues.csv              Исходные данные (51,955 записей)
│   └── resolutions.csv         Справочник резолюций (176 записей)
│
└── outputs/
    └── visualizations/          Сохранённые графики (PNG и PDF)
        ├── sla_chart.png/pdf
        ├── category_distribution.png/pdf
        └── resolution_distribution.png/pdf
```

### Описание ключевых файлов

**analyze_tasks.py** — главный Python скрипт для запуска полного анализа. Загружает данные, вычисляет метрики, создаёт визуализации и выводит отчёты в консоль.

**scripts/analysis.py** — модуль для загрузки и очистки данных, расчёта метрик (SLA, квантили, разрешение по категориям) и формирования текстовых отчётов.

**scripts/visualizations.py** — модуль для создания графиков: SLA-анализ, распределение по категориям, распределение времени разрешения. Сохраняет графики в PNG и PDF форматах.

**docs/schema.md** — полная документация структуры базы данных, описание таблиц issues и resolutions, представления issues_clean, обработанные аномалии и индексирование.

**docs/analyses_report.md** — детальный аналитический отчёт с распределением по категориям, анализом скорости разрешения, временными трендами и ключевыми закономерностями.

**sql/01_init_schema.sql** — скрипт создания таблиц и индексов для оптимизации запросов.

**sql/02_data_cleaning.sql** — создание представления issues_clean с трансформацией timestamps, расчётом дней разрешения и фильтрацией аномалий.

**sql/03_data_quality.sql** — проверки целостности данных, выявление NULL значений и временных аномалий.

**sql/04_analysis.sql** — основные аналитические запросы для расчёта метрик (SLA-пороги, квантили, когортный анализ, aging backlog).

**notebooks/01_analysis.ipynb** — Jupyter ноутбук для интерактивного исследования данных и экспериментов с визуализациями.

## Быстрый старт

### Требования

**Для Python анализа:**
- Python 3.7+
- pandas
- matplotlib
- seaborn
- numpy

**Для SQL анализа:**
- PostgreSQL 12 и выше
- SQL клиент (psql)
- Файлы issues.csv и resolutions.csv

### Установка зависимостей Python

```bash
# Клонируйте репозиторий (если еще не сделали)
git clone https://github.com/yourusername/task-tracker-analytics.git
cd task-tracker-analytics

# Установите зависимости
pip install -r requirements.txt
```

### Запуск Python анализа

```bash
# Запуск полного анализа с визуализациями
python analyze_tasks.py
```

Скрипт выполнит:
1. Загрузку и очистку данных из CSV файлов
2. Расчёт всех метрик (SLA, квантили, разрешение по категориям)
3. Создание графиков (PNG и PDF) в папке `outputs/visualizations/`
4. Вывод детального отчёта в консоль

### Запуск SQL анализа

```bash
# Создание таблиц
psql -U username -d database -f sql/01_init_schema.sql

# Загрузка данных (пример)
\copy issues FROM 'data/issues.csv' WITH (FORMAT csv, DELIMITER ';', HEADER true);
\copy resolutions FROM 'data/resolutions.csv' WITH (FORMAT csv, DELIMITER ';', HEADER true);

# Очистка данных и создание представлений
psql -U username -d database -f sql/02_data_cleaning.sql

# Проверка качества
psql -U username -d database -f sql/03_data_quality.sql

# Запуск анализа
psql -U username -d database -f sql/04_analysis.sql
```

### Проверка результатов

**Python:**
После запуска `analyze_tasks.py` проверьте:
- Консольный вывод с метриками
- Графики в папке `outputs/visualizations/`

**SQL:**
```sql
-- Просмотр очищенных данных
SELECT COUNT(*) FROM issues_clean;

-- Ключевые метрики
SELECT 
    COUNT(*) as total,
    COUNT(CASE WHEN resolved_dt IS NOT NULL THEN 1 END) as resolved,
    ROUND(100.0 * COUNT(CASE WHEN resolved_dt IS NOT NULL THEN 1 END) / COUNT(*), 2) as rate
FROM issues_clean;

-- Распределение по категориям
SELECT category, COUNT(*) as count FROM issues_clean GROUP BY category ORDER BY count DESC;
```

## Методология

### Источник данных

Данные извлечены из системы Task Tracker за период 2014–2023. Набор включает:
- key: уникальный идентификатор задачи
- created: временная метка создания (Unix epoch в миллисекундах)
- resolved: временная метка разрешения (NULL для открытых)
- resolution: тип закрытия (Fixed, Duplicate, Wont Fix и т.д.)
- category: категория задачи (Local, Remote, New User, Software License)

### Процесс очистки данных

1. **Валидация эпохи**: исключены 5 записей с отметками до 2001 года (created < 1000000000000)
2. **Проверка временных диапазонов**: нет аномалий с resolved < created
3. **Обработка NULL**: 3 пропущенных created (0.006%), 2,766 пропущенных resolved (5.32%)
4. **Создание представления**: issues_clean с трансформациями для анализа

### Инструменты анализа

**Python (analyze_tasks.py):**
- pandas для загрузки и обработки данных
- numpy для статистических вычислений
- matplotlib и seaborn для визуализаций
- Автоматический расчёт метрик: SLA-пороги (1/3/7/14/30 дней), квантили (P25/P50/P75/P90/P95), разрешение по категориям

**SQL (sql/04_analysis.sql):**
- **Temporal Functions**: TO_TIMESTAMP для преобразования Unix epochs, DATE_TRUNC для группировки по месяцам
- **Window Functions**: ROW_NUMBER() для рейтирования резолюций, SUM() OVER для процентного распределения
- **Aggregate Functions**: COUNT, AVG, MIN, MAX, PERCENTILE_CONT для статистического анализа
- **JOIN операции**: связь issues с resolutions для анализа типов закрытия
- **Indexed Queries**: использование индексов для оптимизации производительности
- **Cohort Analysis**: анализ по месяцам создания и разрешения
- **Aging Analysis**: анализ открытых тикетов по возрастным корзинам

## Ключевые инсайты

### Категориальное распределение

Система обрабатывает 4 основные категории задач:
- **Local** (26,366 тикетов, 50.75%): локальные технические проблемы
- **Remote** (18,167 тикетов, 34.97%): удаленные проблемы и доступ
- **New User** (6,144 тикетов, 11.83%): вопросы новых пользователей
- **Software License** (1,273 тикетов, 2.45%): лицензионные вопросы

Local и Remote категории составляют 85.72% всей нагрузки.

### Паттерны разрешения

Same-month resolution по категориям:
- **Software License**: ~100% (практически все в месяц)
- **New User**: 96.29% (высокая скорость)
- **Remote**: 95.35% (стабильная скорость)
- **Local**: 95.16% (вариативность по сложности)

### Типы резолюций

Используемые 5 резолюций:
- **Fixed** (46,808 тикетов, 95.17%): успешно разрешены
- **Wont Fix** (1,251 тикетов, 2.54%): преднамеренно закрыты
- **resolvedByUser** (791 тикетов, 1.61%): пользователь разрешил самостоятельно
- **Duplicate** (294 тикетов, 0.6%): дубликаты существующих
- **escalated** (39 тикетов, 0.08%): эскалированы на выше

Преобладание типа "Fixed" (95.17%) свидетельствует об эффективности работы.

## Характеристики набора данных

| Характеристика | Значение |
|---|---|
| Период | 2014–2023 |
| Всего записей | 51,955 |
| После очистки | 51,950 (исключены 5 эпох аномалий) |
| Решённые | 49,184 (94.67%) |
| Открытые | 2,766 (5.33%) |
| Категории | 4 основные |
| Резолюции (справочник) | 176 (используется 5) |
| Дефектные NULL (created) | 3 (0.006%) |
| Дефектные NULL (resolved) | 2,766 (5.32%) |

## Выводы

Система демонстрирует высокий уровень эффективности с 94.67% разрешением тикетов и 95.48% same-month разрешением. Однако требуются следующие улучшения:

1. Работа с 2,766 открытыми тикетами для повышения процента решения
2. Оптимизация справочника резолюций (171 неиспользуемая запись)
3. Улучшение качества данных и валидации на уровне системы
